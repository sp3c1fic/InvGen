@{
    ViewData["Title"] = "Complete Your Payment";
    Layout = "_Layout";
}

<div class="payment-page">
    <!-- Hero Section -->
    <div class="container py-5">
        <div class="hero-section bg-white rounded-4 shadow-sm overflow-hidden">
            <div class="row g-0 align-items-center">
                <div class="col-lg-6 p-5">
                    <div class="mb-3">
                        <span class="badge bg-primary bg-opacity-10 text-primary px-3 py-2 rounded-pill">
                            <i class="fas fa-star me-1"></i>Professional Tool
                        </span>
                    </div>

                    <h1 class="display-6 fw-bold text-dark mb-3">
                        Invoice Generator <span class="text-primary">Pro</span>
                    </h1>

                    <p class="lead text-muted mb-4">
                        Create professional invoices effortlessly. Save time and streamline your billing process with our intuitive tool.
                    </p>

                    <div class="mb-4">
                        <div class="d-flex align-items-center mb-2">
                            <div class="bg-success bg-opacity-10 rounded-circle p-1 me-3">
                                <i class="fas fa-check text-success small"></i>
                            </div>
                            <span class="text-dark">Instant activation</span>
                        </div>
                        <div class="d-flex align-items-center mb-2">
                            <div class="bg-success bg-opacity-10 rounded-circle p-1 me-3">
                                <i class="fas fa-shield-alt text-success small"></i>
                            </div>
                            <span class="text-dark">30-day money-back guarantee</span>
                        </div>
                        <div class="d-flex align-items-center">
                            <div class="bg-success bg-opacity-10 rounded-circle p-1 me-3">
                                <i class="fas fa-clock text-success small"></i>
                            </div>
                            <span class="text-dark">Save 10+ hours weekly</span>
                        </div>
                    </div>

                    <div class="d-flex align-items-center flex-wrap gap-3">
                        <button class="btn btn-primary btn-lg px-4 rounded-3" onclick="scrollToPayment()">
                            Get Started
                        </button>
                        <div class="pricing">
                            <span class="text-muted text-decoration-line-through me-2">$49.99</span>
                            <span class="h5 text-primary fw-bold mb-0">$39.99</span>
                        </div>
                    </div>
                </div>

                <div class="col-lg-6 bg-light bg-opacity-50 p-5">
                    <div class="text-center">
                        <!-- Mock Invoice Preview -->
                        <div class="bg-white rounded-3 shadow-sm p-4 mb-4">
                            <!-- Invoice Header -->
                            <div class="row g-2 mb-3">
                                <div class="col-8">
                                    <div class="bg-light rounded-2 p-2 d-flex align-items-center justify-content-start" style="height: 20px;">
                                        <small class="text-muted fw-bold">INVOICE</small>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="bg-primary bg-opacity-25 rounded-2 p-2 d-flex align-items-center justify-content-center" style="height: 20px;">
                                        <small class="text-primary fw-bold">#INV-001</small>
                                    </div>
                                </div>
                            </div>

                            <!-- Bill To / From Section -->
                            <div class="row g-2 mb-3">
                                <div class="col-6">
                                    <div class="bg-light rounded-2 p-2" style="min-height: 40px;">
                                        <div class="small text-muted mb-1">Bill To:</div>
                                        <div class="small fw-bold">Acme Corp</div>
                                        <div class="small text-muted">New York, NY</div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="bg-light rounded-2 p-2" style="min-height: 40px;">
                                        <div class="small text-muted mb-1">From:</div>
                                        <div class="small fw-bold">Your Business</div>
                                        <div class="small text-muted">Date: Dec 15, 2024</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Invoice Items -->
                            <div class="bg-light rounded-2 p-3 mb-3" style="min-height: 60px;">
                                <div class="row small text-muted mb-2">
                                    <div class="col-6">Description</div>
                                    <div class="col-2 text-center">Qty</div>
                                    <div class="col-2 text-center">Rate</div>
                                    <div class="col-2 text-end">Amount</div>
                                </div>
                                <div class="row small mb-1">
                                    <div class="col-6">Web Development</div>
                                    <div class="col-2 text-center">1</div>
                                    <div class="col-2 text-center">$2,500</div>
                                    <div class="col-2 text-end fw-bold">$2,500</div>
                                </div>
                                <div class="row small">
                                    <div class="col-6">Design Services</div>
                                    <div class="col-2 text-center">1</div>
                                    <div class="col-2 text-center">$1,200</div>
                                    <div class="col-2 text-end fw-bold">$1,200</div>
                                </div>
                            </div>


                            <!-- Testimonial -->
                        <div class="bg-white rounded-3 p-3 border border-light">
                            <div class="text-warning mb-2">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                            </div>
                            <p class="small text-dark mb-2">"Incredibly efficient and professional"</p>
                            <small class="text-muted">Sarah K., Freelancer</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Section -->
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="row">
                    <!-- Pricing Card -->
                    <div class="col-md-6 mb-4">
                        <div class="card pricing-card h-100 shadow-lg border-0">
                            <div class="card-header text-white text-center py-4 bg-primary">
                                <h3 class="card-title mb-0">
                                    <i class="fas fa-crown me-2"></i>
                                    Invoice Generator Pro
                                </h3>
                                <p class="card-subtitle mt-2 opacity-75">Perfect for professionals</p>
                            </div>
                            <div class="card-body text-center py-4">
                                <div class="price-display mb-4">
                                    <sup class="fs-4">$</sup>
                                    <span class="display-3 fw-bold text-primary">49</span>
                                    <sub class="text-muted">.99</sub>
                                </div>
                                <p class="text-muted mb-4">One-time payment • Lifetime access</p>

                                <div class="features-list text-start">
                                    <div class="feature-item d-flex align-items-center mb-3">
                                        <i class="fas fa-check-circle text-success me-3"></i>
                                        <span>Unlimited invoices & clients</span>
                                    </div>
                                    <div class="feature-item d-flex align-items-center mb-3">
                                        <i class="fas fa-check-circle text-success me-3"></i>
                                        <span>PDF export</span>
                                    </div>
                                    <div class="feature-item d-flex align-items-center mb-3">
                                        <i class="fas fa-check-circle text-success me-3"></i>
                                        <span>Payment tracking & reports</span>
                                    </div>
                                    <div class="feature-item d-flex align-items-center mb-3">
                                        <i class="fas fa-check-circle text-success me-3"></i>
                                        <span>Priority customer support</span>
                                    </div>
                                    <div class="feature-item d-flex align-items-center mb-3">
                                        <i class="fas fa-check-circle text-success me-3"></i>
                                        <span>No monthly fees ever</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Form -->
                    <div class="col-md-6">
                        <div class="card payment-card h-100 shadow-lg border-0">
                            <div class="card-header bg-white border-bottom">
                                <h4 class="card-title mb-0">
                                    <i class="fas fa-credit-card me-2 text-primary"></i>
                                    Complete Your Payment
                                </h4>
                                <p class="text-muted mt-2 mb-0">Secure checkout powered by PayPal</p>
                            </div>
                            <div class="card-body py-4">
                                <!-- Security Notice -->
                                <div class="security-notice bg-light rounded p-3 mb-4">
                                    <div class="d-flex align-items-center">
                                        <i class="fas fa-shield-alt text-success me-2"></i>
                                        <small class="text-muted">
                                            <strong>Secure Payment:</strong> Your payment information is encrypted and secure
                                        </small>
                                    </div>
                                </div>

                                <!-- Order Summary -->
                                <div class="order-summary mb-4">
                                    <h6 class="fw-bold mb-3">Order Summary</h6>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>Invoice Generator Pro</span>
                                        <span>$49.99</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2 text-success">
                                        <span><i class="fas fa-tag me-1"></i>Launch Discount</span>
                                        <span>-$10.00</span>
                                    </div>
                                    <hr>
                                    <div class="d-flex justify-content-between fw-bold fs-5">
                                        <span>Total</span>
                                        <span class="text-primary" style="color: #14d3ed">$39.99</span>
                                    </div>
                                </div>

                                <!-- PayPal Button Container -->
                                <div id="paypal-button-container" class="mb-4"></div>

                                <!-- Alternative Payment Methods -->
                                <div class="text-center">
                                    <p class="text-muted small mb-2">Other payment methods:</p>
                                    <div class="payment-methods">
                                        <i class="fab fa-cc-visa fs-3 text-muted me-2"></i>
                                        <i class="fab fa-cc-mastercard fs-3 text-muted me-2"></i>
                                        <i class="fab fa-cc-amex fs-3 text-muted me-2"></i>
                                        <i class="fab fa-cc-discover fs-3 text-muted"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Trust Indicators -->
    <div class="trust-section bg-light py-5">
        <div class="container">
            <div class="row text-center">
                <div class="col-md-3 mb-4">
                    <div class="trust-item">
                        <i class="fas fa-users display-5 text-primary mb-3"></i>
                        <h5>10,000+</h5>
                        <p class="text-muted">Happy Customers</p>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="trust-item">
                        <i class="fas fa-shield-alt display-5 text-success mb-3"></i>
                        <h5>100% Secure</h5>
                        <p class="text-muted">SSL Encrypted</p>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="trust-item">
                        <i class="fas fa-undo display-5 text-warning mb-3"></i>
                        <h5>30-Day</h5>
                        <p class="text-muted">Money Back Guarantee</p>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="trust-item">
                        <i class="fas fa-headset display-5 text-info mb-3"></i>
                        <h5>24/7</h5>
                        <p class="text-muted">Customer Support</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- FAQ Section -->
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <h3 class="text-center mb-5">Frequently Asked Questions</h3>
                <div class="accordion" id="faqAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq1">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1">
                                Is this a one-time payment or subscription?
                            </button>
                        </h2>
                        <div id="collapse1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                This is a one-time payment with lifetime access. No monthly or yearly fees ever.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq2">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2">
                                What happens after I complete the payment?
                            </button>
                        </h2>
                        <div id="collapse2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                You'll receive instant access to the Invoice Generator Pro with all features unlocked. A confirmation email will be sent with your login details.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq3">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3">
                                Is my payment information secure?
                            </button>
                        </h2>
                        <div id="collapse3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Yes, all payments are processed securely through PayPal with industry-standard SSL encryption. We never store your payment information.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

    <!-- PayPal SDK - Replace YOUR_CLIENT_ID with your actual PayPal client ID -->
    <script src="https://www.paypal.com/sdk/js?client-id=ASVainfC_fYo5EwzjsTg-saI_jEqOjvE929jAX2QTyMilix3dJB84On0usdXN1sc_FFhpvi1gHjZPjE4&buyer-country=US&currency=USD&components=buttons&enable-funding=venmo,paylater,card"
            data-sdk-integration-source="developer-studio"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Show loading state for PayPal button
            const paypalContainer = document.getElementById('paypal-button-container');
            paypalContainer.innerHTML = '<div class="paypal-loading"><i class="fas fa-spinner fa-spin me-2"></i>Loading secure payment...</div>';

            // Initialize PayPal button
            if (typeof paypal !== 'undefined') {
                paypalContainer.innerHTML = "";
                paypal.Buttons({
                    style: {
                        layout: 'vertical',
                        color: 'blue',
                        shape: 'rect',
                        label: 'paypal',
                        height: 50
                    },
                    createOrder: function(data, actions) {
                        return actions.order.create({
                            purchase_units: [{
                                amount: {
                                    value: '39.99',
                                    currency_code: 'USD'
                                },
                                description: 'Invoice Generator Pro - Lifetime Access'
                            }]
                        });
                    },
                    onApprove: function(data, actions) {
                        return actions.order.capture().then(function(details) {
                            // Show success message
                            showSuccessMessage(details);

                            // Redirect to success page or dashboard
                            setTimeout(function() {
                                window.location.href = '/Chart';
                            }, 3000);
                        });
                    },
                    onError: function(err) {
                        console.error('PayPal Error:', err);
                        showErrorMessage('Payment failed. Please try again.');
                    },
                    onCancel: function(data) {
                        showInfoMessage('Payment was cancelled. You can try again anytime.');
                    }
                }).render('#paypal-button-container');
            } else {
                // Fallback if PayPal SDK fails to load
                paypalContainer.innerHTML = `
                    <div class="alert alert-warning">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        Unable to load payment options. Please refresh the page or contact support.
                    </div>
                `;
            }

            // Add smooth scrolling to payment section
            const heroSection = document.querySelector('.hero-section');
            if (heroSection) {
                heroSection.addEventListener('click', function(e) {
                    if (e.target.closest('.btn') || e.target.closest('button')) {
                        e.preventDefault();
                        document.querySelector('.payment-card').scrollIntoView({
                            behavior: 'smooth',
                            block: 'center'
                        });
                    }
                });
            }
        });

        // Smooth scroll to payment section
        function scrollToPayment() {
            document.querySelector('.payment-card').scrollIntoView({
                behavior: 'smooth',
                block: 'center'
            });
        }

        function showSuccessMessage(details) {
            const alert = document.createElement('div');
            alert.className = 'alert alert-success alert-dismissible fade show position-fixed';
            alert.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
            alert.innerHTML = `
                <i class="fas fa-check-circle me-2"></i>
                <strong>Payment Successful!</strong> Welcome to Invoice Generator Pro.
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            document.body.appendChild(alert);
        }

        function showErrorMessage(message) {
            const alert = document.createElement('div');
            alert.className = 'alert alert-danger alert-dismissible fade show position-fixed';
            alert.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
            alert.innerHTML = `
                <i class="fas fa-exclamation-circle me-2"></i>
                <strong>Error:</strong> ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            document.body.appendChild(alert);
        }

        function showInfoMessage(message) {
            const alert = document.createElement('div');
            alert.className = 'alert alert-info alert-dismissible fade show position-fixed';
            alert.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
            alert.innerHTML = `
                <i class="fas fa-info-circle me-2"></i>
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            document.body.appendChild(alert);
        }
    </script>
}